{"ast":null,"code":"import\"../styles/rightColumn/discordActivity.css\";import{useEffect,useMemo,useRef,useState}from\"react\";import{fetchLanyard}from\"../hooks/useLanyard\";import{resolveEmojiUrl,formatMusicTime}from\"../utils/discordUtils\";import{Spotify}from\"./discordActivity/Spotify\";import{Obsidian}from\"./discordActivity/Obsidian\";import{Code}from\"./discordActivity/Code\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function DiscordActivity(){var _data$spotify2,_data$spotify2$timest,_dsSpotify$timestamps,_dsSpotify$timestamps2;const[data,setData]=useState(null);const[tick,setTick]=useState(0);const lastFetchTime=useRef(Date.now());const fetchData=async()=>{try{const json=await fetchLanyard();setData(json.data);lastFetchTime.current=Date.now();}catch(error){console.error(\"Error fetching Discord activity:\",error);}};useEffect(()=>{fetchData();const timer=setInterval(()=>{var _data$spotify,_data$spotify$timesta;setTick(prev=>prev+1);if(data!==null&&data!==void 0&&(_data$spotify=data.spotify)!==null&&_data$spotify!==void 0&&(_data$spotify$timesta=_data$spotify.timestamps)!==null&&_data$spotify$timesta!==void 0&&_data$spotify$timesta.end){const now=Date.now();// si termino la cancion, refetch\nif(now>data.spotify.timestamps.end+3000)fetchData();// si no cada 1min\nif(now-lastFetchTime.current>60000)fetchData();}},1000);return()=>clearInterval(timer);},[data===null||data===void 0?void 0:(_data$spotify2=data.spotify)===null||_data$spotify2===void 0?void 0:(_data$spotify2$timest=_data$spotify2.timestamps)===null||_data$spotify2$timest===void 0?void 0:_data$spotify2$timest.end]);const dsStatus=(data===null||data===void 0?void 0:data.discord_status)||\"\";const dsSpotify=(data===null||data===void 0?void 0:data.spotify)||null;const dsActivities=(data===null||data===void 0?void 0:data.activities)||[];const custom=dsActivities.find(a=>a.type===4)||{};const emojiUrl=custom!==null&&custom!==void 0&&custom.emoji?resolveEmojiUrl(custom.emoji):null;const statusText=(custom===null||custom===void 0?void 0:custom.state)||\"\";const code=dsActivities.find(a=>(a===null||a===void 0?void 0:a.name)===\"Visual Studio Code\");const obsidian=dsActivities.find(a=>(a===null||a===void 0?void 0:a.name)===\"Obsidian\");const albumArt=(dsSpotify===null||dsSpotify===void 0?void 0:dsSpotify.album_art_url)||\"\";const musicTime=dsSpotify?formatMusicTime((_dsSpotify$timestamps=dsSpotify.timestamps)===null||_dsSpotify$timestamps===void 0?void 0:_dsSpotify$timestamps.start,(_dsSpotify$timestamps2=dsSpotify.timestamps)===null||_dsSpotify$timestamps2===void 0?void 0:_dsSpotify$timestamps2.end):{current:\"0:00\",total:\"0:00\",progress:0};const panes=useMemo(()=>{const list=[];if(!data){return[{kind:\"idle\",key:\"loading\",node:/*#__PURE__*/_jsx(\"p\",{children:\"wait till the fetch :3\"})}];}if(dsSpotify){var _dsSpotify$track_id;list.push({kind:\"spotify\",key:\"spotify:\".concat((_dsSpotify$track_id=dsSpotify===null||dsSpotify===void 0?void 0:dsSpotify.track_id)!==null&&_dsSpotify$track_id!==void 0?_dsSpotify$track_id:\"unknown\"),node:/*#__PURE__*/_jsx(Spotify,{spotify:dsSpotify,albumArt:albumArt,musicTime:musicTime,emojiUrl:emojiUrl,statusText:statusText})});}if(code&&!obsidian){var _code$application_id;list.push({kind:\"code\",key:\"code:\".concat((_code$application_id=code===null||code===void 0?void 0:code.application_id)!==null&&_code$application_id!==void 0?_code$application_id:\"vs\"),node:/*#__PURE__*/_jsx(Code,{activity:code,emojiUrl:emojiUrl,statusText:statusText})});}if(obsidian&&!code){var _obsidian$application;list.push({kind:\"obsidian\",key:\"obsidian:\".concat((_obsidian$application=obsidian===null||obsidian===void 0?void 0:obsidian.application_id)!==null&&_obsidian$application!==void 0?_obsidian$application:\"obs\"),node:/*#__PURE__*/_jsx(Obsidian,{activity:obsidian,emojiUrl:emojiUrl,statusText:statusText})});}if(list.length===0){list.push({kind:\"idle\",key:\"idle\",node:/*#__PURE__*/_jsxs(\"div\",{className:\"activity-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"activity-detail\",children:\"Just existing\"}),(emojiUrl||statusText)&&/*#__PURE__*/_jsxs(\"div\",{className:\"emote no\",children:[statusText&&/*#__PURE__*/_jsx(\"p\",{className:\"status-text-\".concat(emojiUrl?\"emoji\":\"normal\"),children:statusText}),emojiUrl&&/*#__PURE__*/_jsx(\"img\",{src:emojiUrl,alt:\"\"})]})]})});}return list;},[data,dsSpotify,albumArt,musicTime,emojiUrl,statusText,code,obsidian]);if(!data){return/*#__PURE__*/_jsx(\"div\",{className:\"discord-container ds-activity \".concat(dsStatus),children:/*#__PURE__*/_jsx(ActivityRotator,{panes:panes})});}return/*#__PURE__*/_jsx(\"div\",{className:\"discord-container ds-activity \".concat(dsStatus),children:/*#__PURE__*/_jsx(ActivityRotator,{panes:panes})});}// transitioner\nfunction ActivityRotator(_ref){let{panes,showMs=20000,// visible time\nfadeMs=500// fade duration\n}=_ref;const[idx,setIdx]=useState(0);const[fading,setFading]=useState(\"in\");const timerRef=useRef(null);// change pane reset\nuseEffect(()=>{setIdx(0);setFading(\"in\");},[panes.map(p=>p.key).join(\"|\")]);useEffect(()=>{// only use one there is more than one pane\nif(panes.length<=1)return;const startVisiblePhase=()=>{timerRef.current=window.setTimeout(()=>{setFading(\"out\");timerRef.current=window.setTimeout(()=>{setIdx(i=>(i+1)%panes.length);setFading(\"in\");startVisiblePhase();},fadeMs);},showMs);};startVisiblePhase();return()=>{if(timerRef.current)window.clearTimeout(timerRef.current);timerRef.current=null;};},[panes.length,showMs,fadeMs]);const current=panes[idx];return/*#__PURE__*/_jsx(\"div\",{className:\"activities\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fade-stage activity \".concat(fading===\"out\"?\"is-fading-out\":\"is-fading-in\"),style:{transitionDuration:\"\".concat(fadeMs,\"ms\")},children:current.node},current.key)});}export default DiscordActivity;","map":{"version":3,"names":["useEffect","useMemo","useRef","useState","fetchLanyard","resolveEmojiUrl","formatMusicTime","Spotify","Obsidian","Code","jsx","_jsx","jsxs","_jsxs","DiscordActivity","_data$spotify2","_data$spotify2$timest","_dsSpotify$timestamps","_dsSpotify$timestamps2","data","setData","tick","setTick","lastFetchTime","Date","now","fetchData","json","current","error","console","timer","setInterval","_data$spotify","_data$spotify$timesta","prev","spotify","timestamps","end","clearInterval","dsStatus","discord_status","dsSpotify","dsActivities","activities","custom","find","a","type","emojiUrl","emoji","statusText","state","code","name","obsidian","albumArt","album_art_url","musicTime","start","total","progress","panes","list","kind","key","node","children","_dsSpotify$track_id","push","concat","track_id","_code$application_id","application_id","activity","_obsidian$application","length","className","src","alt","ActivityRotator","_ref","showMs","fadeMs","idx","setIdx","fading","setFading","timerRef","map","p","join","startVisiblePhase","window","setTimeout","i","clearTimeout","style","transitionDuration"],"sources":["/home/aike/Development/aboutMe/src/components/DiscordActivity.tsx"],"sourcesContent":["import \"../styles/rightColumn/discordActivity.css\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport { fetchLanyard } from \"../hooks/useLanyard\";\nimport { resolveEmojiUrl, formatMusicTime } from \"../utils/discordUtils\";\nimport { Spotify } from \"./discordActivity/Spotify\";\nimport { Obsidian } from \"./discordActivity/Obsidian\";\nimport { Code } from \"./discordActivity/Code\";\n\ntype ActivityKind = \"spotify\" | \"code\" | \"obsidian\" | \"idle\";\ntype Pane = { kind: ActivityKind; node: React.ReactNode; key: string };\n\nexport function DiscordActivity() {\n  const [data, setData] = useState<any | null>(null);\n  const [tick, setTick] = useState(0);\n  const lastFetchTime = useRef<number>(Date.now());\n\n  const fetchData = async () => {\n    try {\n      const json = await fetchLanyard();\n      setData(json.data);\n      lastFetchTime.current = Date.now();\n    } catch (error) {\n      console.error(\"Error fetching Discord activity:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n    const timer = setInterval(() => {\n      setTick((prev) => prev + 1);\n\n      if (data?.spotify?.timestamps?.end) {\n        const now = Date.now();\n        // si termino la cancion, refetch\n        if (now > data.spotify.timestamps.end + 3000) fetchData();\n        // si no cada 1min\n        if (now - lastFetchTime.current > 60000) fetchData();\n      }\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [data?.spotify?.timestamps?.end]);\n\n  const dsStatus = data?.discord_status || \"\";\n  const dsSpotify = data?.spotify || null;\n  const dsActivities = data?.activities || [];\n\n  const custom = dsActivities.find((a: any) => a.type === 4) || {};\n  const emojiUrl = custom?.emoji ? resolveEmojiUrl(custom.emoji) : null;\n  const statusText = custom?.state || \"\";\n\n  const code = dsActivities.find((a: any) => a?.name === \"Visual Studio Code\");\n  const obsidian = dsActivities.find((a: any) => a?.name === \"Obsidian\");\n\n  const albumArt = dsSpotify?.album_art_url || \"\";\n  const musicTime = dsSpotify\n    ? formatMusicTime(dsSpotify.timestamps?.start, dsSpotify.timestamps?.end)\n    : { current: \"0:00\", total: \"0:00\", progress: 0 };\n\n  const panes: Pane[] = useMemo(() => {\n    const list: Pane[] = [];\n\n    if (!data) {\n      return [\n        {\n          kind: \"idle\",\n          key: \"loading\",\n          node: <p>wait till the fetch :3</p>,\n        },\n      ];\n    }\n\n    if (dsSpotify) {\n      list.push({\n        kind: \"spotify\",\n        key: `spotify:${dsSpotify?.track_id ?? \"unknown\"}`,\n        node: (\n          <Spotify\n            spotify={dsSpotify}\n            albumArt={albumArt}\n            musicTime={musicTime}\n            emojiUrl={emojiUrl}\n            statusText={statusText}\n          />\n        ),\n      });\n    }\n    if (code && !obsidian) {\n      list.push({\n        kind: \"code\",\n        key: `code:${code?.application_id ?? \"vs\"}`,\n        node: (\n          <Code activity={code} emojiUrl={emojiUrl} statusText={statusText} />\n        ),\n      });\n    }\n    if (obsidian && !code) {\n      list.push({\n        kind: \"obsidian\",\n        key: `obsidian:${obsidian?.application_id ?? \"obs\"}`,\n        node: (\n          <Obsidian\n            activity={obsidian}\n            emojiUrl={emojiUrl}\n            statusText={statusText}\n          />\n        ),\n      });\n    }\n    if (list.length === 0) {\n      list.push({\n        kind: \"idle\",\n        key: \"idle\",\n        node: (\n          <div className=\"activity-container\">\n            <h3 className=\"activity-detail\">Just existing</h3>\n            {(emojiUrl || statusText) && (\n              <div className=\"emote no\">\n                {statusText && (\n                  <p className={`status-text-${emojiUrl ? \"emoji\" : \"normal\"}`}>\n                    {statusText}\n                  </p>\n                )}\n                {emojiUrl && <img src={emojiUrl} alt=\"\"></img>}\n              </div>\n            )}\n          </div>\n        ),\n      });\n    }\n    return list;\n  }, [\n    data,\n    dsSpotify,\n    albumArt,\n    musicTime,\n    emojiUrl,\n    statusText,\n    code,\n    obsidian,\n  ]);\n\n  if (!data) {\n    return (\n      <div className={`discord-container ds-activity ${dsStatus}`}>\n        <ActivityRotator panes={panes} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={`discord-container ds-activity ${dsStatus}`}>\n      <ActivityRotator panes={panes} />\n    </div>\n  );\n}\n\n// transitioner\nfunction ActivityRotator({\n  panes,\n  showMs = 20000, // visible time\n  fadeMs = 500, // fade duration\n}: {\n  panes: Pane[];\n  showMs?: number;\n  fadeMs?: number;\n}) {\n  const [idx, setIdx] = useState(0);\n  const [fading, setFading] = useState<\"in\" | \"out\">(\"in\");\n  const timerRef = useRef<number | null>(null);\n\n  // change pane reset\n  useEffect(() => {\n    setIdx(0);\n    setFading(\"in\");\n  }, [panes.map((p) => p.key).join(\"|\")]);\n\n  useEffect(() => {\n    // only use one there is more than one pane\n    if (panes.length <= 1) return;\n\n    const startVisiblePhase = () => {\n      timerRef.current = window.setTimeout(() => {\n        setFading(\"out\");\n        timerRef.current = window.setTimeout(() => {\n          setIdx((i) => (i + 1) % panes.length);\n          setFading(\"in\");\n          startVisiblePhase();\n        }, fadeMs);\n      }, showMs);\n    };\n\n    startVisiblePhase();\n    return () => {\n      if (timerRef.current) window.clearTimeout(timerRef.current);\n      timerRef.current = null;\n    };\n  }, [panes.length, showMs, fadeMs]);\n\n  const current = panes[idx];\n\n  return (\n    <div className=\"activities\">\n      <div\n        className={`fade-stage activity ${\n          fading === \"out\" ? \"is-fading-out\" : \"is-fading-in\"\n        }`}\n        style={{ transitionDuration: `${fadeMs}ms` }}\n        key={current.key}\n      >\n        {current.node}\n      </div>\n    </div>\n  );\n}\n\nexport default DiscordActivity;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}