{"ast":null,"code":"var _jsxFileName = \"/home/aike/Development/aboutMe/src/components/DiscordActivity.tsx\",\n  _s = $RefreshSig$();\nimport \"../styles/discordActivity.css\";\nimport { useEffect, useState } from \"react\";\nimport { fetchLanyard } from \"../hooks/useLanyard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function DiscordActivity() {\n  _s();\n  var _code$assets, _code$assets2, _code$metadata$button, _code$metadata, _code$metadata$button2, _code$assets3, _code$buttons$, _code$buttons, _code$timestamps;\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    fetchLanyard().then(json => setData(json.data));\n  }, []);\n  if (!data) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Cargando presencia...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 21\n  }, this);\n  function resolveActivityImage(appId, key) {\n    if (!key) return null;\n    if (key.startsWith(\"http\")) return key; // ya es URL\n    if (key.startsWith(\"mp:\"))\n      // media proxy\n      return \"https://media.discordapp.net/\" + key.slice(3);\n    // asset subido al “Application”\n    return `https://cdn.discordapp.com/app-assets/${appId}/${key}.png`;\n  }\n  const dsStatus = data.discord_status;\n  const dsSpotify = data.spotify; // no null check lol\n  const dsActivites = data.activities;\n  const code = data.activities.find(a => a.name === \"Visual Studio Code\");\n  const appId = code === null || code === void 0 ? void 0 : code.application_id;\n  const largeImg = resolveActivityImage(appId, code === null || code === void 0 ? void 0 : (_code$assets = code.assets) === null || _code$assets === void 0 ? void 0 : _code$assets.large_image);\n  const smallImg = resolveActivityImage(appId, code === null || code === void 0 ? void 0 : (_code$assets2 = code.assets) === null || _code$assets2 === void 0 ? void 0 : _code$assets2.small_image);\n  const repoUrl = (_code$metadata$button = code === null || code === void 0 ? void 0 : (_code$metadata = code.metadata) === null || _code$metadata === void 0 ? void 0 : (_code$metadata$button2 = _code$metadata.button_urls) === null || _code$metadata$button2 === void 0 ? void 0 : _code$metadata$button2[0]) !== null && _code$metadata$button !== void 0 ? _code$metadata$button : null;\n  const mathActivity = dsActivites.find(dsActivites => dsActivites.name === \"obsidian\");\n  const albumArt = dsSpotify.album_art_url;\n  /* \n    Actividades de interes:\n    Spotify - Code - Obsidian \n    NO pueden aparecer una atras de la otra, en todo caso se hace \n    un carousel (automatico?)\n    segun el estado -> segun el color de background\n  */\n\n  console.log(dsActivites);\n  console.log(dsSpotify);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `ds-activity ${dsStatus} discord-container`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"activity\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: `https://open.spotify.com/track/${dsSpotify.track_id}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"activity-image\",\n          src: albumArt,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: dsSpotify.artist\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: dsSpotify.song\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [dsSpotify.timestamps.start, \" / \", dsSpotify.timestamps.end]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ds-activity code\",\n        children: [largeImg && /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"activity-image\",\n          src: largeImg,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: code === null || code === void 0 ? void 0 : code.details\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: code === null || code === void 0 ? void 0 : code.state\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: code === null || code === void 0 ? void 0 : (_code$assets3 = code.assets) === null || _code$assets3 === void 0 ? void 0 : _code$assets3.large_text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), \" \", repoUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"btn\",\n          href: repoUrl,\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          children: (_code$buttons$ = code === null || code === void 0 ? void 0 : (_code$buttons = code.buttons) === null || _code$buttons === void 0 ? void 0 : _code$buttons[0]) !== null && _code$buttons$ !== void 0 ? _code$buttons$ : \"Open Repo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"time\", {\n          children: new Date(code === null || code === void 0 ? void 0 : (_code$timestamps = code.timestamps) === null || _code$timestamps === void 0 ? void 0 : _code$timestamps.start)()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(DiscordActivity, \"fQZRxy/+nAZ7NLS1X4dVhrlp8Go=\");\n_c = DiscordActivity;\nexport default DiscordActivity;\nvar _c;\n$RefreshReg$(_c, \"DiscordActivity\");","map":{"version":3,"names":["useEffect","useState","fetchLanyard","jsxDEV","_jsxDEV","DiscordActivity","_s","_code$assets","_code$assets2","_code$metadata$button","_code$metadata","_code$metadata$button2","_code$assets3","_code$buttons$","_code$buttons","_code$timestamps","data","setData","then","json","children","fileName","_jsxFileName","lineNumber","columnNumber","resolveActivityImage","appId","key","startsWith","slice","dsStatus","discord_status","dsSpotify","spotify","dsActivites","activities","code","find","a","name","application_id","largeImg","assets","large_image","smallImg","small_image","repoUrl","metadata","button_urls","mathActivity","albumArt","album_art_url","console","log","className","href","track_id","src","alt","artist","song","timestamps","start","end","details","state","large_text","target","rel","buttons","Date","_c","$RefreshReg$"],"sources":["/home/aike/Development/aboutMe/src/components/DiscordActivity.tsx"],"sourcesContent":["import \"../styles/discordActivity.css\";\nimport { useEffect, useState } from \"react\";\nimport obsidianIcon from \"../assets/obsidianIcon.png\";\nimport { fetchLanyard } from \"../hooks/useLanyard\";\nexport function DiscordActivity() {\n  const [data, setData] = useState<any | null>(null);\n\n  useEffect(() => {\n    fetchLanyard().then((json) => setData(json.data));\n  }, []);\n\n  if (!data) return <p>Cargando presencia...</p>;\n\n  function resolveActivityImage(appId: string, key?: string | null) {\n    if (!key) return null;\n    if (key.startsWith(\"http\")) return key; // ya es URL\n    if (key.startsWith(\"mp:\"))\n      // media proxy\n      return \"https://media.discordapp.net/\" + key.slice(3);\n    // asset subido al “Application”\n    return `https://cdn.discordapp.com/app-assets/${appId}/${key}.png`;\n  }\n\n  const dsStatus = data.discord_status;\n  const dsSpotify = data.spotify; // no null check lol\n  const dsActivites = data.activities;\n\n  interface Activity {\n    name: string;\n    [key: string]: any;\n  }\n\n  interface SpotifyData {\n    [key: string]: any;\n  }\n\n  interface LanyardData {\n    discord_status: string;\n    spotify: SpotifyData | null;\n    data: {\n      activities: Activity[];\n    };\n  }\n\n  const code = data.activities.find(\n    (a: any) => a.name === \"Visual Studio Code\"\n  );\n  const appId = code?.application_id;\n  const largeImg = resolveActivityImage(appId, code?.assets?.large_image);\n  const smallImg = resolveActivityImage(appId, code?.assets?.small_image);\n  const repoUrl = code?.metadata?.button_urls?.[0] ?? null;\n\n  const mathActivity = dsActivites.find(\n    (dsActivites: Activity) => dsActivites.name === \"obsidian\"\n  );\n\n  const albumArt = dsSpotify.album_art_url;\n  /* \n    Actividades de interes:\n    Spotify - Code - Obsidian \n    NO pueden aparecer una atras de la otra, en todo caso se hace \n    un carousel (automatico?)\n    segun el estado -> segun el color de background\n  */\n\n  console.log(dsActivites);\n  console.log(dsSpotify);\n  return (\n    <div className={`ds-activity ${dsStatus} discord-container`}>\n      <div className=\"activity\">\n        <a href={`https://open.spotify.com/track/${dsSpotify.track_id}`}>\n          <img className=\"activity-image\" src={albumArt} alt=\"\"></img>\n        </a>\n        <h3>{dsSpotify.artist}</h3>\n        <h4>{dsSpotify.song}</h4>\n        <span>\n          {dsSpotify.timestamps.start} / {dsSpotify.timestamps.end}\n        </span>\n      </div>\n      <div>\n        <div className=\"ds-activity code\">\n          {largeImg && <img className=\"activity-image\" src={largeImg} alt=\"\" />}\n          <h3>{code?.details}</h3> {/* p.ej. \"Editing DiscordActivity.tsx\" */}\n          <h6>{code?.state}</h6> {/* p.ej. \"Workspace: aboutMe\" */}\n          <h4>{code?.assets?.large_text}</h4> {/* p.ej. \"Editing a TSX file\" */}\n          {repoUrl && (\n            <a className=\"btn\" href={repoUrl} target=\"_blank\" rel=\"noreferrer\">\n              {code?.buttons?.[0] ?? \"Open Repo\"}\n            </a>\n          )}\n          <time>\n            {new Date(code?.timestamps?.start)()}\n            {/* si hay end, mostrás duración */}\n          </time>\n        </div>\n        {/* add where im active*/}\n      </div>\n    </div>\n  );\n}\n\nexport default DiscordActivity;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}